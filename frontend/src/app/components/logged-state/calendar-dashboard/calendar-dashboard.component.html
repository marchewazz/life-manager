<div>
    <div class="grid grid-flow-col grid-cols-10">
        <div class="grid col-span-7">
            <div class="place-self-center">
                <form>
                    <select
                    (change)="getNumberOfDays(); onChangeDate()"
                    [formControl]="monthsControl">
                        <option *ngFor="let month of monthsNames; let i = index"
                        [value]="i+1">
                            {{ month }}
                        </option>
                    </select>
                    <select
                    (change)="getNumberOfDays(); onChangeDate()"
                    [formControl]="yearsControl">
                        <option *ngFor="let year of years"
                        [value]="year">
                            {{ year }}
                        </option>
                    </select>
                </form>
            </div>
            <div class="grid grid-cols-5 grid-flow-row place-items-stretch gap-y-3 gap-x-10">
                <ng-container *ngFor="let day of days">
                    <div class="grid palce-items-stretch">
                        <input type="radio"
                        class="hidden peer" 
                        name="day"
                        (change)="onChangeDate()"
                        [value]="day.getDate().toString()"
                        [id]="day.getDate().toString()"
                        [formControl]="daysControl">
                        <label class="calendar-button" 
                        [for]="day.getDate().toString()">
                            <span class="font-bold text-3xl">
                                {{ day.getDate() }}
                            </span>
                            <span>
                                {{ daysNames[day.getDay()] }}
                            </span>
                        </label>
                    </div>
                </ng-container>
            </div>
        </div>
        <div class="grid grid-flow-row col-span-3">
            <div>
                <div class="grid grid-flow-col">
                    <p class="grid place-items-center">
                        ADD
                    </p>
                    <select
                    [formControl]="formTabControl">
                        <option *ngFor="let tab of formTabs"
                        [value]="tab">
                            {{ tab.toUpperCase() }}
                        </option>
                    </select>
                </div>
                <ng-container *ngIf="formTabControl.value=='date'">
                    <app-dates-form [selectedDate]="selectedDate" [userData]="userData"></app-dates-form>
                </ng-container>
                <ng-container *ngIf="formTabControl.value=='money'">
                    <app-money-form [selectedDate]="selectedDate" [userData]="userData"></app-money-form>
                </ng-container>
                <ng-container *ngIf="formTabControl.value=='note'">
                    <app-notes-form [userData]="userData"></app-notes-form>
                </ng-container>
            </div>
            <div>
                <ng-container *ngIf="isDateLater">
                    <p>
                        Predicted balance:
                        <span
                        [ngClass]="{'text-red-700': estimatedBalance < userData.balance, 'text-green-700': estimatedBalance > userData.balance}">
                            {{ estimatedBalance }} $
                        </span>
                        
                    </p>
                </ng-container>
                <ng-container *ngIf="!eventsOnSelectedDay.length">
                    <p>
                        Nothing saved on this day
                    </p>
                </ng-container>
                <ng-container *ngIf="eventsOnSelectedDay.length">
                    <div *ngFor="let date of eventsOnSelectedDay">
                        <p>
                            {{ date.title }}
                        </p>
                        <p *ngIf="date.description">
                            {{ date.description }}
                        </p>
                        <p *ngIf="date.amount">
                            {{ date.amount }}$
                            <span *ngIf="date.secondSide">
                                <span *ngIf="date.direction=='ingoing'">
                                    from 
                                </span>
                                <span *ngIf="date.direction=='outgoing'">
                                    to 
                                </span>
                                {{ date.secondSide }}
                            </span>
                        </p>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
